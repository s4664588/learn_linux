# Day 1: SSH Tunnel ä¸‰å±¤æ¶æ§‹å¯¦ä½œ

> åŸºæ–¼ hello02923 çš„ã€ŒSSH å…¥é–€åŠ SSH Tunneléˆæ´»é‹ç”¨ã€æ–‡ç« å¯¦ä½œ  
> åƒè€ƒï¼šhttps://ithelp.ithome.com.tw/articles/10290848  
> **å­¸ç¿’é‡é»**: SSH Tunnel ä¸‰å±¤æ¶æ§‹ç†è§£èˆ‡ç’°å¢ƒå»ºç«‹

## ğŸ¯ æ ¸å¿ƒæ¶æ§‹

```
Windows (PuTTY) â†’ SSH Gateway (è·³æ¿ä¸»æ©Ÿ) â†’ Target Server (ç›®æ¨™ä¸»æ©Ÿ)
     æœ¬æ©Ÿ              localhost:2222         å…§éƒ¨ç¶²è·¯æœå‹™
```

## ğŸ¯ Day 1 å­¸ç¿’ç›®æ¨™

### ğŸ“‹ ä»Šæ—¥é‡é»
1. **ç†è§£ SSH Tunnel ä¸‰å±¤æ¶æ§‹**
   - Client (PuTTY) - æœ¬æ©Ÿç”¨æˆ¶ç«¯
   - SSH Gateway (è·³æ¿ä¸»æ©Ÿ) - ä¸­ä»‹ä¼ºæœå™¨  
   - Target Server (ç›®æ¨™ä¸»æ©Ÿ) - å…§éƒ¨æœå‹™

2. **å»ºç«‹ Docker æ¸¬è©¦ç’°å¢ƒ**
   - é…ç½®å¤šå®¹å™¨ç¶²è·¯ç’°å¢ƒ
   - å¯¦ç¾ç¶²è·¯éš”é›¢è¨­è¨ˆ
   - éƒ¨ç½²å®Œæ•´æ¸¬è©¦æ¶æ§‹

3. **æŒæ¡åŸºæœ¬æ“ä½œæµç¨‹**
   - ä½¿ç”¨äº’å‹•å¼æ¸¬è©¦å·¥å…·
   - é©—è­‰ç’°å¢ƒæ­£ç¢ºæ€§
   - ç†è§£æ ¸å¿ƒå·¥ä½œåŸç†

### ğŸ—ï¸ ç³»çµ±æ¶æ§‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Compose ç’°å¢ƒ                      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Client    â”‚    â”‚SSH Gateway  â”‚    â”‚Target Serverâ”‚      â”‚
â”‚  â”‚   (PuTTY)   â”‚â—„â”€â”€â–ºâ”‚ (è·³æ¿ä¸»æ©Ÿ)   â”‚â—„â”€â”€â–ºâ”‚ (ç›®æ¨™ä¸»æ©Ÿ)   â”‚      â”‚
â”‚  â”‚             â”‚    â”‚ Port: 2222  â”‚    â”‚ Port: 80,22 â”‚      â”‚
â”‚  â”‚             â”‚    â”‚ sshuser     â”‚    â”‚ Port: 3306  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚        â”‚                   â”‚                   â”‚            â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                            â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Public Network â”‚ (172.30.0.0/16)            â”‚  â”‚
â”‚  â”‚          æœ¬æ©Ÿå¯ç›´æ¥å­˜å–   â”‚                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Internal Networkâ”‚ (10.100.0.0/24)            â”‚  â”‚
â”‚  â”‚         å…§éƒ¨éš”é›¢ç¶²è·¯     â”‚ (æœ¬æ©Ÿç„¡æ³•ç›´æ¥å­˜å–)            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

```powershell
# 1. é€²å…¥ Day1 è³‡æ–™å¤¾
cd Day1

# 2. å•Ÿå‹•äº’å‹•å¼å·¥å…·
.\putty-tunnel-test.ps1

# 3. é¸æ“‡æ“ä½œ
# 1 - å®‰è£ PuTTY
# 2 - è¨­å®šç’°å¢ƒ
# 3 - åŸ·è¡Œæ¸¬è©¦
# 5 - å®Œæ•´æµç¨‹ (æ¨è–¦)
# 6 - å»ºç«‹æŒçºŒ SSH Tunnel (æ‰‹å‹•æ¸¬è©¦)
```

## ğŸ“‹ Day 1 æª”æ¡ˆçµæ§‹

### ğŸ”§ æ ¸å¿ƒå·¥å…·
- **`putty-tunnel-test.ps1`** - ä¸»è¦æ¸¬è©¦å·¥å…·ï¼ˆäº’å‹•å¼é¸å–®ï¼‰
- **`setup-ssh-keys.ps1`** - SSH é‡‘é‘°è¨­å®šå·¥å…·

### ğŸ“š å­¸ç¿’æ–‡ä»¶
- **`SSH-Tunnel-Learn-Record.md`** - Day 1 å®Œæ•´å­¸ç¿’è¨˜éŒ„
- **`README.md`** - Day 1 å¿«é€Ÿé–‹å§‹æŒ‡å—
- **`putty-ssh-tunnel-guide.md`** - PuTTY è©³ç´°ä½¿ç”¨æŒ‡å—
- **`ssh-test-commands.md`** - æ¸¬è©¦æŒ‡ä»¤åƒè€ƒ

### ğŸ³ ç’°å¢ƒé…ç½®
- **`docker-compose.yml`** - å®¹å™¨ç’°å¢ƒé…ç½®
- **`Dockerfile.ssh-server`** - SSH Gateway æ˜ åƒ
- **`Dockerfile.target-server`** - Target Server æ˜ åƒ
- **`ssh-setup.sh`** - SSH æœå‹™è¨­å®šè…³æœ¬
- **`ssh-keys/`** - SSH é‡‘é‘°å­˜æ”¾ç›®éŒ„

## ğŸ”§ SSH Tunnel è¨­å®š

### PuTTY è¨­å®š (å·²ä¿®æ­£ Port è¡çª)
- Host: `localhost:2222`
- User: `sshuser` / Password: `password123`
- Tunnels:
  - `8090` â†’ `target-server-1:80` (Web)
  - `8091` â†’ `target-server-1:22` (SSH)
  - `8093` â†’ `target-server-2:3306` (DB)

### æ¸¬è©¦é©—è­‰
```powershell
curl http://localhost:8090              # Web æœå‹™
putty -ssh -P 8091 root@localhost       # SSH æœå‹™
Test-NetConnection localhost -Port 8093 # è³‡æ–™åº«
```

### ğŸ”— æ–°åŠŸèƒ½ï¼šæŒçºŒ SSH Tunnel é€£ç·š (é¸é … 6)

**åŠŸèƒ½èªªæ˜**ï¼š
- å»ºç«‹æŒçºŒé‹è¡Œçš„ SSH Tunnel é€£ç·š
- ä¿æŒå‰æ™¯åŸ·è¡Œï¼Œæ–¹ä¾¿æ‰‹å‹•æ¸¬è©¦
- å¯éš¨æ™‚æŒ‰ Ctrl+C ä¸­æ–·é€£ç·š

**ä½¿ç”¨æ–¹æ³•**ï¼š
1. åŸ·è¡Œ `.\putty-tunnel-test.ps1`
2. é¸æ“‡é¸é … `6`
3. SSH Tunnel å»ºç«‹å¾Œï¼Œåœ¨ç€è¦½å™¨è¨ªå• `http://localhost:8090`
4. æŒ‰ Ctrl+C åœæ­¢é€£ç·š

**é©ç”¨å ´æ™¯**ï¼š
- éœ€è¦é•·æ™‚é–“æ¸¬è©¦ Web æœå‹™
- æ‰‹å‹•é©—è­‰ SSH Tunnel åŠŸèƒ½
- é™¤éŒ¯å’Œæ•…éšœæ’é™¤

## ğŸ¯ æ‡‰ç”¨å ´æ™¯

- é ç«¯è¾¦å…¬ï¼šå®‰å…¨å­˜å–å…¬å¸å…§éƒ¨ç³»çµ±
- ç³»çµ±ç®¡ç†ï¼šé€éè·³æ¿æ©Ÿç¶­è­·ä¼ºæœå™¨
- é–‹ç™¼ç’°å¢ƒï¼šé€£æ¥å…§éƒ¨é–‹ç™¼è³‡æº

---

**ä¸€éµé–‹å§‹**ï¼š`cd Day1` â†’ `.\putty-tunnel-test.ps1` â†’ é¸æ“‡ `5`

### ğŸ“ æª”æ¡ˆçµ„ç¹”èªªæ˜
- æ‰€æœ‰ Day 1 ç›¸é—œæª”æ¡ˆå·²ç§»å‹•åˆ° `Day1/` è³‡æ–™å¤¾
- åŸ·è¡Œä»»ä½•è…³æœ¬å‰è«‹å…ˆ `cd Day1`
- å­¸ç¿’è¨˜éŒ„åŒ…å«å®Œæ•´çš„å•é¡Œè§£æ±ºéç¨‹
